---
import BaseLayout from "@components/base/BaseLayout.astro";
import RecommendedReadCardComponent from "@components/blog/RecommendedReadCard.astro";
import { getCollection } from "astro:content";

// 获取一些博客文章作为演示数据
const blogEntries = await getCollection("blog");
const sampleEntries = blogEntries.slice(0, 5); // 取前5篇文章作为演示
---

<BaseLayout title="推荐阅读卡片组件演示">
  <div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-8 text-center">推荐阅读卡片组件演示</h1>
    
    <div class="max-w-4xl mx-auto space-y-8">
      <!-- 标准模式 -->
      <section>
        <h2 class="text-2xl font-semibold mb-4">标准模式</h2>
        <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm">
          <div class="space-y-2">
            {sampleEntries.map((entry) => (
              <RecommendedReadCardComponent 
                entry={entry} 
                showImage={true}
                showReadingTime={true}
                compact={false}
              />
            ))}
          </div>
        </div>
      </section>

      <!-- 紧凑模式 -->
      <section>
        <h2 class="text-2xl font-semibold mb-4">紧凑模式</h2>
        <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm">
          <div class="space-y-1">
            {sampleEntries.map((entry) => (
              <RecommendedReadCardComponent 
                entry={entry} 
                showImage={true}
                showReadingTime={true}
                compact={true}
              />
            ))}
          </div>
        </div>
      </section>

      <!-- 无图片模式 -->
      <section>
        <h2 class="text-2xl font-semibold mb-4">无图片模式</h2>
        <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm">
          <div class="space-y-2">
            {sampleEntries.map((entry) => (
              <RecommendedReadCardComponent 
                entry={entry} 
                showImage={false}
                showReadingTime={true}
                compact={false}
              />
            ))}
          </div>
        </div>
      </section>

      <!-- 仅显示日期模式 -->
      <section>
        <h2 class="text-2xl font-semibold mb-4">仅显示日期模式</h2>
        <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm">
          <div class="space-y-2">
            {sampleEntries.map((entry) => (
              <RecommendedReadCardComponent 
                entry={entry} 
                showImage={true}
                showReadingTime={false}
                compact={false}
              />
            ))}
          </div>
        </div>
      </section>

      <!-- 侧边栏样式演示 -->
      <section>
        <h2 class="text-2xl font-semibold mb-4">侧边栏样式演示</h2>
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
          <!-- 主内容区域 -->
          <div class="lg:col-span-2">
            <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm">
              <h3 class="text-xl font-semibold mb-4">主要内容区域</h3>
              <p class="text-gray-600 dark:text-gray-300 leading-relaxed">
                这里是主要内容区域的演示。推荐阅读卡片通常会放在侧边栏中，
                为用户提供相关文章的快速访问入口。卡片设计简洁，
                包含文章标题、发布日期和预估阅读时间等关键信息。
              </p>
            </div>
          </div>
          
          <!-- 侧边栏 -->
          <div class="lg:col-span-1">
            <div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm">
              <h3 class="text-lg font-semibold mb-4">推荐阅读</h3>
              <div class="space-y-1">
                {sampleEntries.slice(0, 3).map((entry) => (
                  <RecommendedReadCardComponent 
                    entry={entry} 
                    showImage={true}
                    showReadingTime={true}
                    compact={true}
                  />
                ))}
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</BaseLayout>

<style>
  /* 确保演示页面的样式 */
  .container {
    min-height: 100vh;
  }
</style>