---
import BaseLayout from "@components/base/BaseLayout.astro";
import RelatedCardCompact from "@components/blog/RelatedCardCompact.astro";
import { getCollection } from "astro:content";

// 获取示例文章数据
const blogEntries = await getCollection("blog");
const sampleEntries = blogEntries.slice(0, 6); // 取前6篇文章作为示例
---

<BaseLayout title="相关文章卡片组件演示">
  <main class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-8 text-center">相关文章卡片组件演示</h1>

    <!-- 精简卡片展示 -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold mb-6">新的 RelatedCardCompact 组件</h2>

      <!-- 默认样式 -->
      <h3 class="text-xl font-medium mb-4">默认样式（适合相关文章推荐）</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
        {
          sampleEntries
            .slice(0, 4)
            .map((entry) => <RelatedCardCompact entry={entry} />)
        }
      </div>

      <!-- 自定义宽度 -->
      <h3 class="text-xl font-medium mb-4">自定义宽度示例</h3>
      <div class="flex flex-wrap gap-4 mb-8">
        <RelatedCardCompact
          entry={sampleEntries[0]}
          width="w-64"
          height="h-80"
          imageAspect="aspect-square"
        />
        <RelatedCardCompact
          entry={sampleEntries[1]}
          width="w-80"
          height="h-72"
          imageAspect="aspect-[16/9]"
        />
        <RelatedCardCompact
          entry={sampleEntries[2]}
          width="w-72"
          height="h-96"
          imageAspect="aspect-[3/4]"
        />
      </div>

      <!-- 横向布局示例 -->
      <h3 class="text-xl font-medium mb-4">文章底部推荐布局示例</h3>
      <div class="bg-gray-50 dark:bg-gray-800 p-6 rounded-lg">
        <h4 class="text-lg font-semibold mb-4">相关文章推荐</h4>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
          {
            sampleEntries
              .slice(0, 3)
              .map((entry) => (
                <RelatedCardCompact
                  entry={entry}
                  height="h-64"
                  imageAspect="aspect-[4/3]"
                />
              ))
          }
        </div>
      </div>
    </section>

    <!-- 使用说明 -->
    <section class="bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg">
      <h2 class="text-2xl font-semibold mb-4">使用说明</h2>
      <div class="prose dark:prose-invert max-w-none">
        <h3>RelatedCardCompact 组件特点：</h3>
        <ul>
          <li><strong>精简设计</strong>：去除了冗余元素，保留核心信息</li>
          <li><strong>可定制尺寸</strong>：支持自定义宽度、高度和图片宽高比</li>
          <li><strong>响应式布局</strong>：适配不同屏幕尺寸</li>
          <li><strong>优化性能</strong>：更小的图片尺寸和简化的样式</li>
        </ul>

        <h3>Props 参数：</h3>
        <ul>
          <li><code>entry</code>: BlogEntry - 必需，文章数据</li>
          <li>
            <code>width</code>: string - 可选，自定义宽度类名（默认: "w-full"）
          </li>
          <li>
            <code>height</code>: string - 可选，自定义高度类名（默认: "h-auto"）
          </li>
          <li>
            <code>imageAspect</code>: string - 可选，图片宽高比类名（默认:
            "aspect-[4/3]"）
          </li>
        </ul>

        <h3>使用示例：</h3>
        <pre><code>&lt;RelatedCardCompact 
  entry={sampleEntries}
  width="w-64" 
  height="h-80"
  imageAspect="aspect-square"
/&gt;</code></pre>
      </div>
    </section>
  </main>
</BaseLayout>
